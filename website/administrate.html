<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Uea Estates Faults Services</title>
    <link href="style.css" rel="stylesheet">
    <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="scripts.js"></script>
</head>
<body onload="highlightAside(0)">
<nav>
    <ul class = "mainNav">
        <li class = "navli"><a class="active" href="index.html">Reporting faults</a></li>
        <li class = "navli"><a style="background-color: #262626;" href="administrate.html">Administrate faults</a></li>
        <li class = "navli"><a href="update.html">Update fault status</a></li>
        <li class = "logoListItem navli"><a class="active logoLink" href="#index"><img class = "logo" src = "photos/uealogowhite.png"></a></li>
    </ul>
</nav>
<div style = "display: flex;">
    <aside>
        <ul id="sideNav" class = "asideNav">
            <li onclick="adminFaultsBar(0)" class = "asideListItem navli"><a class="active" href="#home">Needs assigning</a></li>
            <li onclick="adminFaultsBar(1)"class = "asideListItem navli"><a href="#news2">Assigned</a></li>
        </ul>
    </aside>
    <!-- THE DIV BELOW CONTAINS ALL CONTENT WHICH NEEDS TO BE CHANGED (e.g. content that is not UI) -->
    <div id ="admin-top" style = "max-width: 80vw; padding: 0px 40px; display:flex; flex-direction: column;">
        <div id="top-row" style="display:flex; flex-direction: row;">
            <!--<div><p id="breadcrumbs"><b>Administrate faults > <u>Needs Assigning</u></b></p></div> -->
            <ul class="breadcrumb" id="bread">
                <li><a href="#">Administrate faults</a></li>
                <li>Needs Assigning</li>
            </ul>
            <div class="dropdown">
                <p>SORT BY: Chronological Order</p>
                <div class="dropdown-elements">
                    <div>Most recent</div>
                    <div>Least recent</div>
                </div>
            </div>
            <div class="dropdown">
                <p>FILTERS</p>
                <div class="dropdown-elements">
                    <div>filter</div>
                    <div>filter2</div>
                    <div>filter3</div>
                </div>
            </div>

        </div>
        <div style="display:flex; flex-direction: row;">
        <div id="fault-cards-assigning" class = "fault-cards" style="display:flex; flex-direction: column;">
            <div onclick ="viewDetails(id)" id="card1" class="card" style="display:flex; flex-direction: row">
                <img style="align-self: center" src="photos/fault.png" alt="Tap">
                <div class="card-contents" style="display:flex; flex-direction: column;">
                    <div class="card-info" style="display:flex; flex-direction: column;">
                        <p><b>Urgency:</b> Medium (needs verification)</p>
                        <p><b>Location:</b> Inside the Lawrence Stenhouse building on floor 0, in the men’s toilets just past the PC and cyber labs.</p>
                        <div class = "room" style="display:flex; flex-direction: row; ">
                            <p style="margin-right:20px"><b>Room:</b> LSB 0.03</p>
                            <img style="align-self: center; cursor: help;" src="photos/questionmark.png">
                            <p><i>What does this mean?</i></p>
                        </div>
                        <p><b>Description:</b> The tap is leaking in LSB 0.03! We have a bucket underneath but you guy should come soon.</p>
                    </div>
                </div>
            </div>
            <div onclick ="viewDetails(id)" id="card2" class="card" style="display:flex; flex-direction: row">
                <img style="align-self: center" src="photos/fault.png" alt="Tap">
                <div class="card-contents" style="display:flex; flex-direction: column;">
                    <div class="card-info" style="display:flex; flex-direction: column;">
                        <p><b>Urgency:</b> Medium (needs verification)</p>
                        <p><b>Location:</b> Inside the Lawrence Stenhouse building on floor 0, in the men’s toilets just past the PC and cyber labs.</p>
                        <div class = "room" style="display:flex; flex-direction: row; ">
                            <p style="margin-right:20px"><b>Room:</b> LSB 0.03</p>
                            <img style="align-self: center; cursor: help;" src="photos/questionmark.png">
                            <p><i>What does this mean?</i></p>
                        </div>
                        <p><b>Description:</b> The tap is leaking in LSB 0.03! We have a bucket underneath but you guy should come soon.</p>
                    </div>
                </div>
            </div>
            <div onclick ="viewDetails(id)" id="card3" class="card" style="display:flex; flex-direction: row">
                <img style="align-self: center" src="photos/fault.png" alt="Tap">
                <div class="card-contents" style="display:flex; flex-direction: column;">
                    <div class="card-info" style="display:flex; flex-direction: column;">
                        <p><b>Urgency:</b> Medium (needs verification)</p>
                        <p><b>Location:</b> Inside the Lawrence Stenhouse building on floor 0, in the men’s toilets just past the PC and cyber labs.</p>
                        <div class = "room" style="display:flex; flex-direction: row; ">
                            <p style="margin-right:20px"><b>Room:</b> LSB 0.03</p>
                            <img style="align-self: center; cursor: help;" src="photos/questionmark.png">
                            <p><i>What does this mean?</i></p>
                        </div>
                        <p><b>Description:</b> The tap is leaking in LSB 0.03! We have a bucket underneath but you guy should come soon.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="fault-cards-assigned" class="fault-cards"  style="display:none; flex-direction: column;">
            <div onclick ="viewDetails2(id)" id="card4" class="card" style="display:flex; flex-direction: row">
                <img style="align-self: center" src="photos/fault.png" alt="Tap">
                <div class="card-contents" style="display:flex; flex-direction: column;">
                    <div class="card-info" style="display:flex; flex-direction: column;">
                        <p><b>Urgency:</b> Medium (needs verification) TEST CARD</p>
                        <p><b>Location:</b> Inside the Lawrence Stenhouse building on floor 0, in the men’s toilets just past the PC and cyber labs.</p>
                        <div class = "room" style="display:flex; flex-direction: row; ">
                            <p style="margin-right:20px"><b>Room:</b> LSB 0.03</p>
                            <img style="align-self: center; cursor: help;" src="photos/questionmark.png">
                            <p><i>What does this mean?</i></p>
                        </div>
                        <p><b>Description:</b> The tap is leaking in LSB 0.03! We have a bucket underneath but you guy should come soon.</p>
                    </div>
                </div>
            </div>
            <div onclick ="viewDetails2(id)" id="card5" class="card" style="display:flex; flex-direction: row">
                <img style="align-self: center" src="photos/fault.png" alt="Tap">
                <div class="card-contents" style="display:flex; flex-direction: column;">
                    <div class="card-info" style="display:flex; flex-direction: column;">
                        <p><b>Urgency:</b> Medium (needs verification) TEST CARD</p>
                        <p><b>Location:</b> Inside the Lawrence Stenhouse building on floor 0, in the men’s toilets just past the PC and cyber labs.</p>
                        <div class = "room" style="display:flex; flex-direction: row; ">
                            <p style="margin-right:20px"><b>Room:</b> LSB 0.03</p>
                            <img style="align-self: center; cursor: help;" src="photos/questionmark.png">
                            <p><i>What does this mean?</i></p>
                        </div>
                        <p><b>Description:</b> The tap is leaking in LSB 0.03! We have a bucket underneath but you guy should come soon.</p>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <div id = "lowerDetailsDiv" style = "display:none; flex-direction: column">
            <div class = "map">
                <p style = "margin:10px; cursor: pointer; user-select: none;" onclick="updateMap()" id="map-text"><i><b><u>Click to collapse map</u> ⏶</b></i></p> <br>
                <img id="map" style = "width:45vw" src="photos/map.png">
            </div>
            <div class = "form">
                <fieldset>
                    <legend>To do:</legend>
                    <form class = "detailsForm" onsubmit="return adminSubmitSuccess()" id="admin-form">
                        <label for = "urgencies">
                            *Please select a priority level for the fault: <img style="align-self: center; cursor: help;" src="photos/questionmark.png"> <i style="cursor: help;">(The meanings of the different priority levels can be read <a target="_blank" href = "https://my.uea.ac.uk/divisions/estates/our-services/report-a-fault#:~:text=PRIORITY%201%3A%C2%A0%20RESPONSE%20TIME%20OF%202%20HOURS">here</a>)</i><br>
                        </label>
                        <input list="urgencies" name="browser" placeholder = "3" value = "5" type = "number" min = "1" max = "5" required>
                        <datalist id="urgencies">
                            <option value="1">
                            <option value="2">
                            <option value="3">
                            <option value="4">
                            <option value="5">
                        </datalist>
                        <br>
                        <label for = "timeToFix">
                            *Time needed to fix (minutes):
                        </label>
                        <input id = "timeToFix" type = number min = "1" max = "6000" value = "30" required>
                        <br>
                        <!-- The miniFieldSet and miniLegend classes are for stylin fieldsets within fieldsets.-->
                        <fieldset class = "miniFieldSet">
                            <legend class = "miniLegend">*General time window within which the fault needs to be fixed at some point:</legend>
                            <label for = "startDate">Start of time window:</label><br>
                            <input type = "date" id = "startDate"><br>
                            <label for = "endDate">End of time window:</label><br>
                            <input type = "date" id = "endDate"><br>
                        </fieldset>
                        <br>
                        <label for = "technicans">
                            *Assign technicians to fix this fault:<br>
                        </label>
                        <input list="technicans" name="technicans" placeholder = "Andy" value = "Andy" type = "text" required>
                        <datalist id="technicans">
                            <option value="Andy">
                            <option value="Bob">
                            <option value="Chloe">
                            <option value="Delia">
                            <option value="Eric">
                        </datalist>
                        <br>
                        <input type="submit" value="Submit">

                    </form>
                    <!--todo make the below div appear when the user presses submit with all required inputs filled in-->
                    <div id="admin-submit-success" style="display: none;">
                        <div style = "display:flex; flex-direction: row; align-items: center;">
                            <h2>Form submitted!</h2><img height = "40px" src = "photos/greencheck.png">

                        </div>
                        <p class = "successMessage">The form was submitted successfully. Assigned technicians will now be able to see this fault on their <i>update fault status</i> pages.</p>

                    </div>


                </fieldset>
            </div>
        </div>
        </div>
    </div>
    </div>
</div>
</body>
</html>